{"ast":null,"code":"import React,{useContext}from\"react\";import\"../styles/my-bookings.css\";import useFetch from\"../components/hooks/useFetch\";import{BASE_URL}from\"../utils/config\";import{AuthContext}from\"../context/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MyBooking=function MyBooking(){var _useFetch=useFetch(\"\".concat(BASE_URL,\"/booking/user\")),bookings=_useFetch.data,error=_useFetch.error,loading=_useFetch.loading;var _useContext=useContext(AuthContext),user=_useContext.user;if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});}return/*#__PURE__*/_jsx(\"div\",{children:!user||user===undefined||user===null?/*#__PURE__*/_jsx(\"div\",{className:\"request__login\",children:\"Please log in to view your bookings\"}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"my-bookings-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Bookings\"}),/*#__PURE__*/_jsx(\"div\",{className:\"book\",children:bookings===null||bookings===void 0?void 0:bookings.map(function(booking){return/*#__PURE__*/_jsxs(\"div\",{className:\"bookings-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:booking.tourName}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-booking-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:booking.photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"details__box\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date:\"}),\" \",new Date(booking.bookAt).toLocaleDateString(\"en-GB\")]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Guest Size:\"}),\" \",booking.guestSize]})]})]})]},booking._id);})})]})})});};export default MyBooking;","map":{"version":3,"names":["React","useContext","useFetch","BASE_URL","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyBooking","_useFetch","concat","bookings","data","error","loading","_useContext","user","children","undefined","className","map","booking","tourName","src","photo","alt","Date","bookAt","toLocaleDateString","guestSize","_id"],"sources":["C:/Users/digvi/Desktop/React Projects/itchy-feet/frontend/src/pages/MyBooking.jsx"],"sourcesContent":["import React, {useContext} from \"react\";\nimport \"../styles/my-bookings.css\";\nimport useFetch from \"../components/hooks/useFetch\";\nimport { BASE_URL } from \"../utils/config\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst MyBooking = () => {\n  const { data: bookings, error, loading } = useFetch(`${BASE_URL}/booking/user`);\n\n  const {user} = useContext(AuthContext);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  if (error) {\n    return <div>Error: {error}</div>;\n  }\n\n\n  return (\n    <div>\n      {(!user || user===undefined||user===null) ? (\n        <div className=\"request__login\">Please log in to view your bookings</div>\n      ) : (\n        <>\n          <div className=\"my-bookings-container\">\n          <h1>My Bookings</h1>\n          <div className=\"book\" >\n            {bookings?.map((booking) => (\n              <div className=\"bookings-container\" key={booking._id}>\n                <h3>{booking.tourName}</h3>\n                <div className=\"my-booking-card\">\n                  <img src={booking.photo} alt=\"\" />\n                  <div className=\"details__box\">\n                <p><strong>Date:</strong> {new Date(booking.bookAt).toLocaleDateString(\"en-GB\")}</p>\n                <p><strong>Guest Size:</strong> {booking.guestSize}</p>\n                </div>\n                </div>\n              </div>\n          ))}\n          </div>\n          </div>\n          </>\n                  )}\n    </div>\n  );\n};\n\nexport default MyBooking;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,UAAU,KAAO,OAAO,CACvC,MAAO,2BAA2B,CAClC,MAAO,CAAAC,QAAQ,KAAM,8BAA8B,CACnD,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,OAASC,WAAW,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAErD,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACtB,IAAAC,SAAA,CAA2CV,QAAQ,IAAAW,MAAA,CAAIV,QAAQ,kBAAgB,CAAjEW,QAAQ,CAAAF,SAAA,CAAdG,IAAI,CAAYC,KAAK,CAAAJ,SAAA,CAALI,KAAK,CAAEC,OAAO,CAAAL,SAAA,CAAPK,OAAO,CAEtC,IAAAC,WAAA,CAAejB,UAAU,CAACG,WAAW,CAAC,CAA/Be,IAAI,CAAAD,WAAA,CAAJC,IAAI,CAEX,GAAIF,OAAO,CAAE,CACX,mBAAOX,IAAA,QAAAc,QAAA,CAAK,YAAU,EAAM,CAC9B,CAEA,GAAIJ,KAAK,CAAE,CACT,mBAAOR,KAAA,QAAAY,QAAA,EAAK,SAAO,CAACJ,KAAK,GAAO,CAClC,CAGA,mBACEV,IAAA,QAAAc,QAAA,CACI,CAACD,IAAI,EAAIA,IAAI,GAAGE,SAAS,EAAEF,IAAI,GAAG,IAAI,cACtCb,IAAA,QAAKgB,SAAS,CAAC,gBAAgB,CAAAF,QAAA,CAAC,qCAAmC,EAAM,cAEzEd,IAAA,CAAAI,SAAA,EAAAU,QAAA,cACEZ,KAAA,QAAKc,SAAS,CAAC,uBAAuB,CAAAF,QAAA,eACtCd,IAAA,OAAAc,QAAA,CAAI,aAAW,EAAK,cACpBd,IAAA,QAAKgB,SAAS,CAAC,MAAM,CAAAF,QAAA,CAClBN,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAES,GAAG,CAAC,SAACC,OAAO,qBACrBhB,KAAA,QAAKc,SAAS,CAAC,oBAAoB,CAAAF,QAAA,eACjCd,IAAA,OAAAc,QAAA,CAAKI,OAAO,CAACC,QAAQ,EAAM,cAC3BjB,KAAA,QAAKc,SAAS,CAAC,iBAAiB,CAAAF,QAAA,eAC9Bd,IAAA,QAAKoB,GAAG,CAAEF,OAAO,CAACG,KAAM,CAACC,GAAG,CAAC,EAAE,EAAG,cAClCpB,KAAA,QAAKc,SAAS,CAAC,cAAc,CAAAF,QAAA,eAC/BZ,KAAA,MAAAY,QAAA,eAAGd,IAAA,WAAAc,QAAA,CAAQ,OAAK,EAAS,IAAC,CAAC,GAAI,CAAAS,IAAI,CAACL,OAAO,CAACM,MAAM,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAC,GAAK,cACpFvB,KAAA,MAAAY,QAAA,eAAGd,IAAA,WAAAc,QAAA,CAAQ,aAAW,EAAS,IAAC,CAACI,OAAO,CAACQ,SAAS,GAAK,GACjD,GACA,GARiCR,OAAO,CAACS,GAAG,CAS9C,EACT,CAAC,EACI,GACA,EAEG,EACT,CAEV,CAAC,CAED,cAAe,CAAAtB,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}